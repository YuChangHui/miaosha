# 秒杀项目技术点
## 1.两次MD5加密

将用户输入的密码和固定Salt通过MD5加密生成第一次加密后的密码，再将该密码和随机生成的Salt通过MD5进行第二次加密，最后将第二次加密后的密码和第一次的固定Salt存到数据库中。

好处：

（1）第一次作用：防止用户明文密码在网络进行传输

（2）第二次作用：防止数据库被盗，黑客通过MD5反推出密码

## 2.session共享

验证用户账号密码都正确情况下，通过UUID生成唯一id作为token，再将token作为key、用户信息作为value模拟session存储到redis，同时将token存储到cookie，保存用户的登录状态。

好处： 在分布式集群情况下，服务器间需要同步，定时同步各个服务器的session信息，会因为延迟导致服务器间session不一致。使用redis把session数据集中存储起来，便可解决session不一致问题。

## 3.页面缓存+对象缓存

页面缓存：将手动渲染得到的html页面缓存到redis，再次访问时只需从redis中取得页面即可。

对象缓存：包括对用户信息、商品信息、订单信息和token等数据进行缓存，利用缓存来减少对数据库的访问，大大加快查询速度。

## 4.redis预处理 + RabbitMQ异步下单 + 客户端轮询

通过两级缓冲保护，（1）redis预处理（2）RabbitMQ异步下单，最后才会访问数据库，这样做是为了最大力度减少对数据库的访问。

实现：

（1）抢购开始前，将商品和库存数据同步到redis中，所有的抢购操作都在redis中进行处理，通过Redis预减少库存减少数据库访问。

（2）为了保护系统不受高流量的冲击而导致系统崩溃的问题，使用RabbitMQ用异步队列处理下单，实际做了一层缓冲保护，做了一个窗口模型，窗口模型会实时的刷新用户秒杀的状态。

（3）客户端用js轮询一个接口，用来获取秒杀处理状态。
